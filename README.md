# Discuz-Q优化整合版本
之前有做过Q的V2和V3的uniapp端优化，V2版本还获得过腾讯云开发大赛2等奖。V3版本帮助很多站长上架APPstore。

DiscuzQV2模板：https://ext.dcloud.net.cn/plugin?id=4735

DiscuzQV3模板：https://ext.dcloud.net.cn/plugin?id=8488

但从2022年官方放弃后就没有再动过了，版本搞得乱七八糟的，实在提不起来兴趣。
现在基本没人维护了，其实相对还好一些，正好近期有客户有需求，所以就决定弄个稳定优化版。

计划是两周内完成，主要是对react版本后台代码的整合和优化（比如一些依赖本地化、去除无用的请求、删除冗余文件、优化速度性能等）。
再做一下uniapp前端 ，支持微信小程序和app的正常注册登录发帖互动等。有时间的话再搞下签到、积分和付费阅读。

 


### 目前进度：

#### 20240112  
* 修复后台一直加载进不去的问题
* 修复后台首页数据不显示的问题
* 修复前端编辑器发帖一直加载的问题
* 优化前端加载很多无用请求的问题

具体说明：
* 优化后台vue和vant引用文件本地化（4个文件）
* 优化编辑器文件本地化   （2个文件）
* 去除腾讯云上报相关代码  （3个文件）
* 去除版本检测相关代码   （2个文件）
* 去除腾讯灯塔相关请求 （6个文件）
* 去除talkingdata相关代码 （78个文件）

#### 20240113
主要优化dl.php文件
* 所有文件本地化
* 优化部分检测逻辑
* 去除部分无用步骤

### 使用说明 
 **升级前务必先备份一下旧版的文件**                                                                     
1. 建议使用php7.2-php7.4，mysql5.7，nginx 
2. php安装fileinfo 和exif 扩展，在禁用的函数中删除 putenv、readlink、symlink、shell_exec 
3. 创建站点数据库选择【MySQL】,【utf8mb4】
4. 站点需安装ssl证书，支持https访问
5. 并在站点根目录创建public目录，将本源码的public目录下的的所有文件上传到创建的public目录里
6. 运行目录设置为 /public，
7. 设置伪静态并开启gzip，如果使用 Apache服务，此步操作无需配置；如果使用 Nginx 服务，请按照如下进行设置伪静态。
详细的文档看 https://doc.q.discuz.vip/guide/install-linux.html
```
location / {
  try_files $uri $uri/ /index.php?$query_string;
}
```
8. 打开浏览器，访问 http://<绑定网站的域名名称>/dl.php，按照指示安装升级即可

### 作者说
我就弄一个稳定版本 然后有需要的人测试下没有问题稳定能用，我就撤了。
正好客户有需求就抽时间做了下整合。

如果后续有时间的话会录制教程，在bilibili发布：
https://space.bilibili.com/404046614

### 建议
长久运营或者对功能样式有需求的尽量选dzx或wp，除非自己有能力二开

如果你必须用Q,那就接受他现有的缺点，使用一个稳定优化的版本（留邮箱），专心运营，不要期待谁会来补bug，更不要奢望会新增功能，包括官方。
